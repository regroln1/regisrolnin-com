---
import SuiteDashForm from './SuiteDashForm.astro';
---

<footer class="bg-gradient-7 text-white px-6 py-12">
  <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8">

    <!-- Colonne 1 : Branding + Contact -->
    <div>
      <h2 class="text-xl font-semibold mb-2">R√©gis ROLNIN</h2>
      <p class="text-sm text-gray-300">
        Architecte de syst√®mes pour entreprises ambitieuses : strat√©gie, automatisation & croissance digitale.
      </p>

      <div class="mt-6">
        <h3 class="text-lg font-semibold mb-2">Contact</h3>
        <p class="text-sm text-gray-300 mb-4">
          Email : <a href="mailto:contact@regisrolnin.com" class="underline">contact@regisrolnin.com</a>
        </p>

        <h3 class="text-lg font-semibold mb-2">Restons connect√©s</h3>
        <div class="flex space-x-4 mt-2 text-white">
          <!-- YouTube -->
          <a href="#" aria-label="YouTube" class="hover:text-red-500">
            <svg class="w-5 h-5" viewBox="0 0 576 512" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path d="M549.7 124.1c-6.3-23.7-24.9-42.3-48.6-48.6C456.7 64 288 64 288 64S119.3 64 74.9 75.5c-23.7 6.3-42.3 24.9-48.6 48.6C15.9 168.5 15.9 256 15.9 256s0 87.5 10.4 131.9c6.3 23.7 24.9 42.3 48.6 48.6C119.3 448 288 448 288 448s168.7 0 213.1-11.5c23.7-6.3 42.3-24.9 48.6-48.6 10.4-44.4 10.4-131.9 10.4-131.9s0-87.5-10.4-131.9zM232 334.7V177.3L361.6 256 232 334.7z"/>
            </svg>
          </a>
          <!-- Facebook -->
          <a href="#" aria-label="Facebook" class="hover:text-blue-500">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M22 12a10 10 0 10-11.5 9.9v-7h-2v-3h2v-2.3c0-2 1.2-3.2 3-3.2.9 0 1.8.1 1.8.1v2h-1c-1 0-1.3.6-1.3 1.2V12h2.2l-.4 3h-1.8v7A10 10 0 0022 12z" />
            </svg>
          </a>
          <!-- Instagram -->
          <a href="#" aria-label="Instagram" class="hover:text-pink-400">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm10 2c1.6 0 3 1.3 3 3v10c0 1.6-1.3 3-3 3H7c-1.6 0-3-1.3-3-3V7c0-1.6 1.3-3 3-3h10zm-5 3a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6zm4.5-2a1.5 1.5 0 100 3 1.5 1.5 0 000-3z" />
            </svg>
          </a>
          <!-- LinkedIn -->
          <a href="#" aria-label="LinkedIn" class="hover:text-blue-300">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M4.98 3.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5zM3 8.98h4v12H3v-12zM9 9h3.6v1.6h.1c.5-.9 1.7-1.8 3.4-1.8 3.7 0 4.4 2.4 4.4 5.6v6.6h-4v-5.9c0-1.4 0-3.2-2-3.2s-2.3 1.5-2.3 3.1v6h-4v-12z" />
            </svg>
          </a>
          <!-- Twitter -->
          <a href="#" aria-label="Twitter" class="hover:text-sky-400">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M22.46 6c-.77.35-1.6.58-2.46.69a4.27 4.27 0 001.88-2.36 8.44 8.44 0 01-2.69 1.03 4.24 4.24 0 00-7.3 3.87A12.02 12.02 0 013 5.1a4.22 4.22 0 001.31 5.65A4.23 4.23 0 012.8 10v.05a4.25 4.25 0 003.4 4.17 4.3 4.3 0 01-1.91.07 4.26 4.26 0 003.97 2.95A8.5 8.5 0 012 19.54 12.02 12.02 0 008.29 21c7.55 0 11.68-6.26 11.68-11.68 0-.18 0-.36-.01-.54A8.3 8.3 0 0022.46 6z" />
            </svg>
          </a>
          <!-- TikTok -->
          <a href="#" aria-label="TikTok" class="hover:text-gray-400">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12.78 2h3.22a5.95 5.95 0 005.95 5.95v3.22a9.17 9.17 0 01-5.34-1.7v6.35a6.83 6.83 0 11-6.83-6.83h.83v3.4h-.83a3.43 3.43 0 103.43 3.43V2z" />
            </svg>
          </a>
        </div>
      </div>
    </div>

    <!-- Colonne 2 : D√©couvrir -->
    <div class="pl-6 md:pl-12">
      <h3 class="text-lg font-semibold mb-2">D√©couvrir</h3>
      <ul class="space-y-1 text-sm text-gray-300">
        <li><a href="/methode-aia" class="hover:underline">M√©thode AIA‚Ñ¢</a></li>
        <li><a href="/a-propos" class="hover:underline">√Ä propos de R√©gis</a></li>
        <li><a href="/travailler-avec-moi" class="hover:underline">Travailler avec moi</a></li>
      </ul>
    </div>

    <!-- Colonne 3 : Ressources -->
    <div>
      <h3 class="text-lg font-semibold mb-2">Ressources</h3>
      <ul class="space-y-1 text-sm text-gray-300">
        <li><a href="/blog" class="hover:underline">Articles de blog</a></li>
        <li><a href="/guides" class="hover:underline">Guides strat√©giques</a></li>
        <li><a href="/outils" class="hover:underline">Outils recommand√©s</a></li>
      </ul>
    </div>

    <!-- Colonne 4 : Newsletter (anti-scroll) -->
    <div>
      <h3 class="text-lg font-semibold mb-2">Newsletter</h3>
      <p class="text-sm text-gray-300 mb-4">
        Des strat√©gies avanc√©es, des outils test√©s, et des id√©es concr√®tes pour b√¢tir une entreprise solide et scalable.
      </p>

      <!-- Wrapper : borne la hauteur et masque le surplus -->
      <div class="newsletter-embed relative max-w-sm w-full rounded-lg bg-white text-black shadow-md
                  overflow-hidden h-[228px] md:h-[220px]">

        <!-- Scale l√©ger pour compacter le contenu SuiteDash -->
        <div class="sd-scale origin-top-right absolute top-0 right-0 left-0">
          <SuiteDashForm
            formUrl="https://acces.regisrolnin.com/papaia"
            height="240px"
            trustText="üîí Pas de spam"
            loadingText="Chargement..."
            containerClass="bg-transparent p-3"
          />
        </div>
      </div>
    </div>
  </div>

  <!-- Bas de page -->
  <div class="mt-12 border-t border-gray-700 pt-6 text-sm text-center text-gray-400">
    ¬© 2025 R√©gis Rolnin. Tous droits r√©serv√©s.
    <a href="/mentions-legales" class="hover:underline mx-1">Mentions l√©gales</a> ¬∑
    <a href="/politique-confidentialite" class="hover:underline mx-1">Politique de confidentialit√©</a> ¬∑
    <a href="/cookie-policy" class="hover:underline mx-1">Politique de cookies</a> ¬∑
    <a href="/cgv" class="hover:underline mx-1">CGV</a>
  </div>
</footer>

<style is:global>
  /* Compaction douce et anti-scroll */
  .newsletter-embed { /* borne stricte */
    /* rien ici, classes Tailwind font le job */
  }
  .newsletter-embed .sd-scale {
    transform: scale(0.94);       /* compact */
  }
  @media (min-width: 768px) {
    .newsletter-embed .sd-scale { transform: scale(0.96); }
  }

  /* Si SuiteDash charge un iframe, s√©curise la hauteur */
  .newsletter-embed iframe {
    height: 240px !important;
  }

  /* Si SuiteDash injecte du HTML (pas iframe), limite marges/paddings g√©n√©riques */
  .newsletter-embed :where(form, .form, .sd-form){
    margin: 0 !important;
    padding: 0 !important;
  }
  .newsletter-embed :where(input, select, textarea){
    font-size: 0.95rem;
    line-height: 1.25rem;
  }
  .newsletter-embed :where(button, [type="submit"]){
    font-weight: 600;
  }

  /* Mini-texte confiance pour gagner de la place */
  .newsletter-embed :where(.trust-text){
    font-size: 0.75rem !important;
    line-height: 1rem !important;
    margin-top: 0.25rem !important;
  }
</style>
